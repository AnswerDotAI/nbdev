<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Auto-generated tagged releases and release notes from GitHub issues">

<title>release – nbdev</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-baedc78cbf92349237790bf011c153e8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="release – nbdev">
<meta property="og:description" content="Auto-generated tagged releases and release notes from GitHub issues">
<meta property="og:image" content="https://nbdev.fast.ai/api/images/release.svg">
<meta property="og:site_name" content="nbdev">
<meta name="twitter:title" content="release – nbdev">
<meta name="twitter:description" content="Auto-generated tagged releases and release notes from GitHub issues">
<meta name="twitter:image" content="https://nbdev.fast.ai/api/images/release.svg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">nbdev</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../getting_started.html" aria-current="page"> 
<span class="menu-text">Get Started</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../tutorials/tutorial.html"> 
<span class="menu-text">Tutorial</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-help" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Help</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-help">    
        <li>
    <a class="dropdown-item" href="https://github.com/fastai/nbdev/issues"><i class="bi bi-bug" role="img">
</i> 
 <span class="dropdown-text">Report an Issue</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://forums.fast.ai/"><i class="bi bi-chat-right-text" role="img">
</i> 
 <span class="dropdown-text">Fast.ai Forum</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../getting_started.html#faq"><i class="bi bi-question-circle" role="img">
</i> 
 <span class="dropdown-text">FAQ</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/fastai/nbdev"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/fastdotai"> <i class="bi bi-twitter" role="img" aria-label="Fast.ai Twitter">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../api/index.html">API</a></li><li class="breadcrumb-item"><a href="../api/release.html">release</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../getting_started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting Started</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../tutorials/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorials</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/tutorial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">End-To-End Walkthrough</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/best_practices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notebook Best Practices</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/qmd_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Qmd Documents</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/renderscript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RenderScripts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/git_friendly_jupyter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git-Friendly Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/blogging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Blogging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/pre_commit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pre-Commit Hooks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/docs_only.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Documentation Only Sites</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/extensions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Writing nbdev plugins</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/migrating.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">nbdev1 Migration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/modular_nbdev.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modular nbdev</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../explanations/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explanations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../explanations/config.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Configuration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../explanations/directives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Directives</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../explanations/docs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Docs Website</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../explanations/why_nbdev.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Why nbdev</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../api/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">API</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/config.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">config</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/maker.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">maker</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/process.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">process</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/export.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">export</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/doclinks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">doclinks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/sync.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">sync</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/merge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">merge</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/showdoc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">showdoc</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/frontmatter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">frontmatter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/processors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">processors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/clean.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">clean</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/cli.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">cli</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">quarto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/qmd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">qmd</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/migrate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">migrate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/serve.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">serve</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/release.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">release</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../api/diff.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">diff</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a>
  <ul>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a></li>
  <li><a href="#creating-release-notes" id="toc-creating-release-notes" class="nav-link" data-scroll-target="#creating-release-notes">Creating release notes</a></li>
  <li><a href="#tagging-a-release" id="toc-tagging-a-release" class="nav-link" data-scroll-target="#tagging-a-release">Tagging a release</a></li>
  <li><a href="#doing-both-creating-release-notes-and-tagging-a-release" id="toc-doing-both-creating-release-notes-and-tagging-a-release" class="nav-link" data-scroll-target="#doing-both-creating-release-notes-and-tagging-a-release">Doing both (creating release notes, and tagging a release)</a></li>
  </ul></li>
  <li><a href="#python-api" id="toc-python-api" class="nav-link" data-scroll-target="#python-api">Python API</a>
  <ul>
  <li><a href="#release" id="toc-release" class="nav-link" data-scroll-target="#release">Release</a></li>
  <li><a href="#release.changelog" id="toc-release.changelog" class="nav-link" data-scroll-target="#release.changelog">Release.changelog</a></li>
  <li><a href="#release.release" id="toc-release.release" class="nav-link" data-scroll-target="#release.release">Release.release</a></li>
  <li><a href="#release.latest_notes" id="toc-release.latest_notes" class="nav-link" data-scroll-target="#release.latest_notes">Release.latest_notes</a></li>
  </ul></li>
  <li><a href="#cli-functions" id="toc-cli-functions" class="nav-link" data-scroll-target="#cli-functions">CLI functions</a>
  <ul>
  <li><a href="#changelog" id="toc-changelog" class="nav-link" data-scroll-target="#changelog">changelog</a></li>
  <li><a href="#push_release" id="toc-push_release" class="nav-link" data-scroll-target="#push_release">push_release</a></li>
  <li><a href="#release_git" id="toc-release_git" class="nav-link" data-scroll-target="#release_git">release_git</a></li>
  <li><a href="#release_gh" id="toc-release_gh" class="nav-link" data-scroll-target="#release_gh">release_gh</a></li>
  </ul></li>
  <li><a href="#publish-packages" id="toc-publish-packages" class="nav-link" data-scroll-target="#publish-packages">Publish Packages</a>
  <ul>
  <li><a href="#pypi_json" id="toc-pypi_json" class="nav-link" data-scroll-target="#pypi_json">pypi_json</a></li>
  <li><a href="#latest_pypi" id="toc-latest_pypi" class="nav-link" data-scroll-target="#latest_pypi">latest_pypi</a></li>
  <li><a href="#pypi_details" id="toc-pypi_details" class="nav-link" data-scroll-target="#pypi_details">pypi_details</a></li>
  <li><a href="#conda_output_path" id="toc-conda_output_path" class="nav-link" data-scroll-target="#conda_output_path">conda_output_path</a></li>
  <li><a href="#write_conda_meta" id="toc-write_conda_meta" class="nav-link" data-scroll-target="#write_conda_meta">write_conda_meta</a></li>
  <li><a href="#write_requirements" id="toc-write_requirements" class="nav-link" data-scroll-target="#write_requirements">write_requirements</a></li>
  <li><a href="#anaconda_upload" id="toc-anaconda_upload" class="nav-link" data-scroll-target="#anaconda_upload">anaconda_upload</a></li>
  <li><a href="#release_conda" id="toc-release_conda" class="nav-link" data-scroll-target="#release_conda">release_conda</a></li>
  <li><a href="#chk_conda_rel" id="toc-chk_conda_rel" class="nav-link" data-scroll-target="#chk_conda_rel">chk_conda_rel</a></li>
  <li><a href="#release_pypi" id="toc-release_pypi" class="nav-link" data-scroll-target="#release_pypi">release_pypi</a></li>
  <li><a href="#release_both" id="toc-release_both" class="nav-link" data-scroll-target="#release_both">release_both</a></li>
  </ul></li>
  <li><a href="#bump-version" id="toc-bump-version" class="nav-link" data-scroll-target="#bump-version">Bump Version</a>
  <ul>
  <li><a href="#nbdev_bump_version" id="toc-nbdev_bump_version" class="nav-link" data-scroll-target="#nbdev_bump_version">nbdev_bump_version</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/AnswerDotAI/nbdev/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="release.html.md"><i class="bi bi-file-code"></i>CommonMark</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../api/index.html">API</a></li><li class="breadcrumb-item"><a href="../api/release.html">release</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">release</h1>
</div>

<div>
  <div class="description">
    Auto-generated tagged releases and release notes from GitHub issues
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p><code>nbdev.release</code> provides 3 commands that you can run from your shell to manage your changelog file and git releases:</p>
<ul>
<li><code>nbdev-changelog</code>: creates a CHANGELOG.md file from closed and labeled GitHub issues</li>
<li><code>nbdev-release-git</code>: tags and creates a release in GitHub for the current version</li>
<li><code>nbdev-release-gh</code>: calls <code>nbdev-changelog</code>, lets you edit the result, then pushes to git and calls <code>nbdev-release-git</code></li>
</ul>
<p>It provides 3 futher commands for releasing packages on pypi or conda:</p>
<ul>
<li><code>nbdev-pypi</code>: Create and upload a pypi installer</li>
<li><code>nbdev-conda</code>: Create and upload a conda installer</li>
<li><code>nbdev-release-both</code>: Create and upload both pypi and conda installers</li>
</ul>
<p>Here’s a brief demonstration of how to use the changelog and git release tools in <code>nbdev.release</code>. This demo first creates an issue using the <a href="https://cli.github.com/"><code>gh</code></a> command line tool, and then closes it using <code>git</code>; you can also use GitHub’s web interface for both of these tasks. (Note that this functionality used to be in a project called <code>fastrelease</code>, so in the video the command line tools have different names, starting with <code>fastrelease_</code> instead of <code>nbdev-</code>).</p>
<p><a href="images/release.svg"><img src="images/release.svg" class="img-fluid" width="900"></a></p>
<section id="setup" class="level3">
<h3 class="anchored" data-anchor-id="setup">Setup</h3>
<p>You’ll need to get a GitHub <a href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token">personal access token</a> if you haven’t already. To do so, <a href="https://github.com/settings/tokens/new">click here</a> and enter “nbdev” in the “Note” section, and click the <code>repo</code> checkbox.</p>
<p>Then click “Generate Token” at the bottom of the screen, and copy the token (the long string of letters and numbers shown). You can easily do that by clicking the little clipboard icon next to the token.</p>
<p><img alt="Copying your token" width="743" caption="Copying your token" src="images/token.png"></p>
<p>It’s easiest to save the token as an environment variable <code>GITHUB_TOKEN</code> that can be automatically accessed. We recommend you do this is by adding the following to the end of your <code>.bashrc</code> or <code>.zshrc</code> file:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">GITHUB_TOKEN</span><span class="op">=</span>xxx</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>…and then replace the <code>xxx</code> with the token you just copied. It will automatically be avaialble whenever you start a new shell (but don’t forget to <code>source</code> that file or open a new shell after you change it.).</p>
</section>
<section id="creating-release-notes" class="level3">
<h3 class="anchored" data-anchor-id="creating-release-notes">Creating release notes</h3>
<p>Now you’re ready to create your release notes. These are created in a file called <code>CHANGELOG.md</code>. Here’s an example of what it creates: <a href="https://github.com/fastai/nbdev/blob/master/CHANGELOG.md">nbdev CHANGELOG</a>.</p>
<p>All issues with the label <strong>bug</strong>, <strong>enhancement</strong>, or <strong>breaking</strong> that have been closed in your repo since your last release will be added to the top of this file. If you haven’t made any releases before, then all issues with those labels will be included.</p>
<p>Therefore, before you create or update <code>CHANGELOG.md</code>, go to your GitHub issues page, remove <code>is:open</code> from the filter, and label any issues you want included with one of the labels above. When you’ve done that, you can create or update your release notes by running in your terminal:</p>
<pre><code>nbdev_changelog</code></pre>
<p>The titles and bodies of each issue will be added. Open <code>CHANGELOG.md</code> in your editor and make any edits that you want, and then commit the file to your repo (remember to <code>git add</code> it!)</p>
</section>
<section id="tagging-a-release" class="level3">
<h3 class="anchored" data-anchor-id="tagging-a-release">Tagging a release</h3>
<p>You should now tag a release. This will create a tag in GitHub with your current version number in <code>__init__.py</code>, and will then make it into a release, using your latest release notes as the description of the release:</p>
<pre><code>nbdev_release_git</code></pre>
<p>After you run this, be sure to increment your version number. You can either edit it manually, or if you use nbdev it can be done for you by running:</p>
<pre><code>nbdev_bump_version</code></pre>
</section>
<section id="doing-both-creating-release-notes-and-tagging-a-release" class="level3">
<h3 class="anchored" data-anchor-id="doing-both-creating-release-notes-and-tagging-a-release">Doing both (creating release notes, and tagging a release)</h3>
<p>To complete both of the steps above, run:</p>
<pre><code>nbdev_release_gh</code></pre>
<p>See the screencast above for a demonstration of this.</p>
</section>
</section>
<section id="python-api" class="level2">
<h2 class="anchored" data-anchor-id="python-api">Python API</h2>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L44" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="release" class="level3">
<h3 class="anchored" data-anchor-id="release">Release</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> Release(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    owner:NoneType<span class="op">=</span><span class="va">None</span>, repo:NoneType<span class="op">=</span><span class="va">None</span>, token:NoneType<span class="op">=</span><span class="va">None</span>, groups:VAR_KEYWORD</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Create CHANGELOG.md from GitHub issues</em></p>
<p>To create a markdown changelog, first create a <a href="https://nbdev.fast.ai/api/release.html#release"><code>Release</code></a> object, optionally passing a mapping from GitHub labels to markdown titles. Put your github token in a file named <code>token</code> at the root of your repo. <a href="https://nbdev.fast.ai/api/release.html#release"><code>Release</code></a> attempts to fetch values for arguments from the following locations if not supplied:</p>
<ul>
<li><strong>owner:</strong> fetched from the GitHub URL in <code>[project.urls]</code> in <code>pyproject.toml</code>. This is the owner name of the repository on GitHub. For example for the repo <code>fastai/fastcore</code> the owner would be <code>fastai</code>.</li>
<li><strong>repo:</strong> fetched from the field <code>name</code> in <code>[project]</code> in <code>pyproject.toml</code>. This is the name of the repository on GitHub. For example for the repo <code>fastai/fastcore</code> the repo would be <code>fastcore</code>.</li>
<li><strong>token:</strong> fetched from a file named <code>token</code> at the root of your repo. Creating a token is discussed in <a href="https://fastrelease.fast.ai/#Set-up">the setup</a> section.</li>
<li><strong>groups:</strong> (optional) fetched from the field <code>label_groups</code> in <code>[tool.nbdev]</code> in <code>pyproject.toml</code>. This is a mapping from label names to titles in your release notes. If not specified, this defaults to:</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>{<span class="st">"breaking"</span>: <span class="st">"Breaking Changes"</span>, <span class="st">"enhancement"</span>:<span class="st">"New Features"</span>, <span class="st">"bug"</span>:<span class="st">"Bugs Squashed"</span>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L67" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="release.changelog" class="level3">
<h3 class="anchored" data-anchor-id="release.changelog">Release.changelog</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> changelog(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    debug:<span class="bu">bool</span><span class="op">=</span><span class="va">False</span>, <span class="co"># Just print the latest changes, instead of updating file</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Create the CHANGELOG.md file, or return the proposed text if <code>debug</code> is <code>True</code></em></p>
<div id="455b1f6c" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>rel <span class="op">=</span> Release()</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># print(rel.changelog(debug=True))</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L88" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="release.release" class="level3">
<h3 class="anchored" data-anchor-id="release.release">Release.release</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> release(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Tag and create a release in GitHub for the current version</em></p>
<p>This uses the version information from your <code>__init__.py</code>.</p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L97" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="release.latest_notes" class="level3">
<h3 class="anchored" data-anchor-id="release.latest_notes">Release.latest_notes</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> latest_notes(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Latest CHANGELOG entry</em></p>
<p>All relevant pull requests and issues are fetched from the GitHub API, and are categorized according to a user-supplied mapping from labels to markdown headings.</p>
</section>
</section>
<section id="cli-functions" class="level2">
<h2 class="anchored" data-anchor-id="cli-functions">CLI functions</h2>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L106" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="changelog" class="level3">
<h3 class="anchored" data-anchor-id="changelog">changelog</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> changelog(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    debug:store_true<span class="op">=</span><span class="va">False</span>, <span class="co"># Print info to be added to CHANGELOG, instead of updating file</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    repo:<span class="bu">str</span><span class="op">=</span><span class="va">None</span>, <span class="co"># repo to use instead of `lib_name` from pyproject.toml</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Create a CHANGELOG.md file from closed and labeled GitHub issues</em></p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L115" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="push_release" class="level3">
<h3 class="anchored" data-anchor-id="push_release">push_release</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> push_release(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    token:<span class="bu">str</span><span class="op">=</span><span class="va">None</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Create a GitHub release (changelog should already be committed/pushed). Returns the release.</em></p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L121" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="release_git" class="level3">
<h3 class="anchored" data-anchor-id="release_git">release_git</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> release_git(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    token:<span class="bu">str</span><span class="op">=</span><span class="va">None</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Tag and create a release in GitHub for the current version</em></p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L127" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="release_gh" class="level3">
<h3 class="anchored" data-anchor-id="release_gh">release_gh</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> release_gh(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    token:<span class="bu">str</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Optional GitHub token (otherwise `token` file is used)</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Calls <code>nbdev-changelog</code>, lets you edit the result, then pushes to git and calls <code>nbdev-release-git</code></em></p>
</section>
</section>
<section id="publish-packages" class="level2">
<h2 class="anchored" data-anchor-id="publish-packages">Publish Packages</h2>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L152" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="pypi_json" class="level3">
<h3 class="anchored" data-anchor-id="pypi_json">pypi_json</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> pypi_json(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    s</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Dictionary decoded JSON for PYPI path <code>s</code></em></p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L157" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="latest_pypi" class="level3">
<h3 class="anchored" data-anchor-id="latest_pypi">latest_pypi</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> latest_pypi(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    name</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Latest version of <code>name</code> on pypi</em></p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L163" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="pypi_details" class="level3">
<h3 class="anchored" data-anchor-id="pypi_details">pypi_details</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> pypi_details(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    name</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Version, URL, and SHA256 for <code>name</code> from pypi</em></p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L185" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="conda_output_path" class="level3">
<h3 class="anchored" data-anchor-id="conda_output_path">conda_output_path</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> conda_output_path(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    name, build:<span class="bu">str</span><span class="op">=</span><span class="st">'build'</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Output path for conda build</em></p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L242" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="write_conda_meta" class="level3">
<h3 class="anchored" data-anchor-id="write_conda_meta">write_conda_meta</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> write_conda_meta(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    path:<span class="bu">str</span><span class="op">=</span><span class="st">'conda'</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Writes a <code>meta.yaml</code> file to the <code>conda</code> directory of the current directory</em></p>
<p>This function is used in the <code>conda_package</code> CLI command.</p>
<p><strong>NB</strong>: you need to first of all upload your package to PyPi, before creating the conda package.</p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L248" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="write_requirements" class="level3">
<h3 class="anchored" data-anchor-id="write_requirements">write_requirements</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> write_requirements(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    path:<span class="bu">str</span><span class="op">=</span><span class="st">''</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Writes a <code>requirements.txt</code> file to <code>directory</code> based on pyproject.toml.</em></p>
<p>This function can be used in situations where you need to generate a <code>requirements.txt</code> file for a project.</p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L258" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="anaconda_upload" class="level3">
<h3 class="anchored" data-anchor-id="anaconda_upload">anaconda_upload</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> anaconda_upload(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    name, loc:NoneType<span class="op">=</span><span class="va">None</span>, user:NoneType<span class="op">=</span><span class="va">None</span>, token:NoneType<span class="op">=</span><span class="va">None</span>, env_token:NoneType<span class="op">=</span><span class="va">None</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Upload <code>name</code> to anaconda</em></p>
<div id="737f0b16" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> fastcore.xtras <span class="im">import</span> globtastic</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L270" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="release_conda" class="level3">
<h3 class="anchored" data-anchor-id="release_conda">release_conda</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> release_conda(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    path:<span class="bu">str</span><span class="op">=</span><span class="st">'conda'</span>, <span class="co"># Path where package will be created</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    do_build:bool_arg<span class="op">=</span><span class="va">True</span>, <span class="co"># Run `conda build` step</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    build_args:<span class="bu">str</span><span class="op">=</span><span class="st">''</span>, <span class="co"># Additional args (as str) to send to `conda build`</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    skip_upload:store_true<span class="op">=</span><span class="va">False</span>, <span class="co"># Skip `anaconda upload` step</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    mambabuild:store_true<span class="op">=</span><span class="va">False</span>, <span class="co"># Use `mambabuild` (requires `boa`)</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    upload_user:<span class="bu">str</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Optional user to upload package to</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Create a <code>meta.yaml</code> file ready to be built into a package, and optionally build and upload it</em></p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L301" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="chk_conda_rel" class="level3">
<h3 class="anchored" data-anchor-id="chk_conda_rel">chk_conda_rel</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> chk_conda_rel(</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    nm:<span class="bu">str</span>, <span class="co"># Package name on pypi</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    apkg:<span class="bu">str</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Anaconda Package (defaults to {nm})</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    channel:<span class="bu">str</span><span class="op">=</span><span class="st">'fastai'</span>, <span class="co"># Anaconda Channel</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    force:store_true<span class="op">=</span><span class="va">False</span>, <span class="co"># Always return github tag</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Prints GitHub tag only if a newer release exists on Pypi compared to an Anaconda Repo.</em></p>
<p>To build and upload a conda package, cd to the root of your repo, and then:</p>
<pre><code>nbdev-conda-package</code></pre>
<p>Or to do things more manually:</p>
<pre><code>nbdev-conda-package --do_build false
cd conda
conda build --no-anaconda-upload --output-folder build {name}
anaconda upload build/noarch/{name}-{ver}-*.tar.bz2</code></pre>
<p>Add <code>--debug</code> to the <code>conda build command</code> to debug any problems that occur. Note that the build step takes a few minutes. Add <code>-u {org_name}</code> to the <code>anaconda upload</code> command if you wish to upload to an organization, or pass <code>upload_user</code> to <code>nbdev-conda-package</code>.</p>
<p><strong>NB</strong>: you need to first of all upload your package to PyPi, before creating the conda package.</p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L316" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="release_pypi" class="level3">
<h3 class="anchored" data-anchor-id="release_pypi">release_pypi</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> release_pypi(</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    repository:<span class="bu">str</span><span class="op">=</span><span class="st">'pypi'</span>, <span class="co"># Respository to upload to (defined in ~/.pypirc)</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    quiet:<span class="bu">bool</span><span class="op">=</span><span class="va">False</span>, <span class="co"># Reduce output verbosity</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Create and upload Python package to PyPI</em></p>
<p>Use <code>--repository</code> flag to upload to <a href="https://test.pypi.org/">TestPypi</a> (e.g.&nbsp;<code>nbdev-pypi --repository testpypi</code>) and custom/private repositories.</p>
<p>The <a href="https://packaging.python.org/en/latest/specifications/pypirc/">~/.pypirc</a> file can be updated to configure the additional repositories, see example below:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[distutils]</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="dt">index-servers</span> <span class="op">=</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">pypi</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">testpypi</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">private-repository</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="kw">[pypi]</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="dt">username</span> <span class="op">=</span> <span class="dt">__token__</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="dt">password</span> <span class="op">=</span> <span class="er">&lt;</span><span class="dt">PyPI</span> <span class="dt">token</span><span class="er">&gt;</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="kw">[testpypi]</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="dt">username</span> <span class="op">=</span> <span class="dt">__token__</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="dt">password</span> <span class="op">=</span> <span class="er">&lt;</span><span class="dt">TestPyPI</span> <span class="dt">token</span><span class="er">&gt;</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="kw">[private-repository]</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="dt">repository</span> <span class="op">=</span> <span class="er">&lt;</span><span class="dt">private-repository</span> <span class="dt">URL</span><span class="er">&gt;</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="dt">username</span> <span class="op">=</span> <span class="er">&lt;</span><span class="dt">private-repository</span> <span class="dt">username</span><span class="er">&gt;</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="dt">password</span> <span class="op">=</span> <span class="er">&lt;</span><span class="dt">private-repository</span> <span class="dt">password</span><span class="er">&gt;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Use <code>nbdev-pypi --repository private-repository</code> to upload to the private repository.</p>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L329" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="release_both" class="level3">
<h3 class="anchored" data-anchor-id="release_both">release_both</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> release_both(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    path:<span class="bu">str</span><span class="op">=</span><span class="st">'conda'</span>, <span class="co"># Path where package will be created</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    do_build:bool_arg<span class="op">=</span><span class="va">True</span>, <span class="co"># Run `conda build` step</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    build_args:<span class="bu">str</span><span class="op">=</span><span class="st">''</span>, <span class="co"># Additional args (as str) to send to `conda build`</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    skip_upload:store_true<span class="op">=</span><span class="va">False</span>, <span class="co"># Skip `anaconda upload` step</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    mambabuild:store_true<span class="op">=</span><span class="va">False</span>, <span class="co"># Use `mambabuild` (requires `boa`)</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    upload_user:<span class="bu">str</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Optional user to upload package to</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    repository:<span class="bu">str</span><span class="op">=</span><span class="st">'pypi'</span>, <span class="co"># Pypi respository to upload to (defined in ~/.pypirc)</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Release both conda and PyPI packages</em></p>
</section>
</section>
<section id="bump-version" class="level2">
<h2 class="anchored" data-anchor-id="bump-version">Bump Version</h2>
<hr>
<p><a href="https://github.com/AnswerDotAI/nbdev/blob/main/nbdev/release.py#L345" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="nbdev_bump_version" class="level3">
<h3 class="anchored" data-anchor-id="nbdev_bump_version">nbdev_bump_version</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> nbdev_bump_version(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    part:<span class="bu">int</span><span class="op">=</span><span class="dv">2</span>, <span class="co"># Part of version to bump</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    unbump:<span class="bu">bool</span><span class="op">=</span><span class="va">False</span>, <span class="co"># Reduce version instead of increasing it</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>):</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Increment version in <strong>init</strong>.py by one</em></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/nbdev\.fast\.ai\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/AnswerDotAI/nbdev/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>